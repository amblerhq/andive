import { action } from '@storybook/addon-actions';
import { Button } from '@storybook/react/demo';
import { Story, Meta } from '@storybook/addon-docs/blocks';

<Meta title='Readme' component={Button} />

<img width="300" src="https://files-ncvscphfon.now.sh/" alt="Andive UI Library" />

Style `<div />` the Ambler way.
- Master storybook: [(@ambler/andive@latest)](https://andive.ambler.fr)
- Canary storybook: [(@ambler/andive@ci)](https://andive-ci.ambler.fr)

# Getting started

- `yarn add @ambler/andive react react-dom styled-components`

For the canary build:

- `yarn add @ambler/andive@ci react react-dom styled-components`

## Any React project

1. Render the <Baseline /> component which reset the SPA Css.

```
import {Baseline} from '@ambler/andive'
import App from './app'

function HelloWorld() {
  return (
    <>
      <Baseline />
      <App />
    </>
  )
}
```

2. Import the Urbanist Google font (default Andive's font).

```
<head>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Urbanist" />
</head>
```

3. Enjoy the set of components andive provides :)

# API

To style our components we use `styled-components`. To avoid dependency collisions and let you configure your `styled-components` it is set as a _peerDependency_

## Components

### Atom

TODO

### Molecule

TODO

# Contribution & Release

## How to release

If you are working on andive and want to share some unstable future features or refactor, do it from the canary channel. The canary channel mirrors the stable one.

### Canary workflow (contributor)

On your computer:

- clone the repository
- checkout the canary branch
- create your own branch from the latest origin/canary
- commit your contribution and push your branch

On github:
- create a PR describing what's new and referencing the issue when possible
- a reviewer will check your code and maybe discuss or ask for changes
- once the PR is validated, it will be merged into canary

On CircleCI (automatic):
- builds the package
- pushes to npm under the @canary tag

On github (automatic):
- deploy the docs/ project under https://andive-ci.ambler.fr with the Vercel/now integration

### Production workflow (maintainer)

To release, once the canary branch it stable and ready.

On your computer:

- clone the repository
- checkout the master branch
- merge canary branch onto master
- `yarn release` to bump the @ambler/andive package version & tag the commit
- `git push origin master --follow-tags`

On CircleCI (automatic):

- builds the package
- pushes to npm under the @latest tag

On github (automatic):
- deploy the docs/ project under  https://andive.ambler.fr with the Vercel/now integration

## Project dependencies and setup

- Prettier
  VSCode: we let eslint format the code through eslint. Keep `editor.formatOnSave` disabled to let
  `eslint.autoFixOnSave` do his job.
- Eslint
  `eslint` uses prettier to format and disable its rules. This can be done through `eslint-plugin-prettier` and `eslint-config-prettier`,
  yet `eslint-plugin-prettier` exposes a "recommended" config that turns on both dependencies. See https://prettier.io/docs/en/eslint.html#use-both for more details.

  `babel-eslint` is the parser used to lint.

  `eslint-plugin-react` needs a configuration under `settings.react` key in `.eslintrc` to a least specify the react version. See https://github.com/yannickcr/eslint-plugin-react#configuration.

- Babel
  babel is used to transpile our components to commonjs format.

- Package versions are fixed with exact-version (except for peerDependencies because we want react and react-dom to match any minor update)
